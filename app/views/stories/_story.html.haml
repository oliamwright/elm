.story{:id => "story_#{story.id}", :'data-project-id' => story.project.id, :'data-id' => story.id, :class => "value_#{story.display_client_value.downcase}"}
	- if story.can_pull?
		.field.pull
			.pull_button
				= "<"
	- else
		.field.no_pull
	.field.check{:'data-class' => 'story', :'data-id' => story.id}= check_box_tag :sel
	.field.status
		- if story.approved?
			= story.display_status
		- else
			= best_in_place story, :approved, :type => :checkbox, :collection => [ 'Open', 'Approved' ]
	.field.usid= story.display_number
	.field.value= best_in_place story, :client_value, :type => :select, :collection => Story::VALUE_MAP
	.field.details= best_in_place_if !story.approved?, story, :description
	.field.est_time= "%0.02f" % story.sub_items.sum(:estimated_time)
	.field.tasks= story.sub_items.tasks.count
	.field.bugs= story.sub_items.bugs.count
	.field.act_time= "%0.02f" % story.actual_time
	.field.created_by= story.owner.full_name
	.field.created_at= story.created_at.to_date
	.field.approved_by= "--"
	.field.approved_at= "--"
	.field.completed_at= "--"
	- if story.can_push?
		.field.push
			.push_button
				= ">"
	- else
		.field.no_push
.tasks{:id => "story_#{story.id}_tasks", :'data-id' => story.id}
	- if story.sub_items.count > 0
		.header
			.field.pull= "<"
			.field.check{:'data-class' => 'sub_item', :'data-id' => 'all'}= check_box_tag :sel
			.field.status= "STATUS"
			.field.itemid= "ITEM ID"
			.field.type= "TYPE"
			.field.details= "DETAILS"
			.field.est_time= "EST. TIME"
			.field.owner= "OWNER"
			.field.role= "ROLE"
			.field.act_time= "ACTUAL TIME"
			.field.created_by= "CREATED BY"
			.field.created_at= "CREATED"
			.field.approved_by= "APPROVED BY"
			.field.approved_at= "APPROVED"
			.field.completed_at= "COMPLETED"
			.field.push= ">"
		= render(:partial => 'sub_items/item', :collection => story.sub_items)
	.new_task
		= form_for([story, SubItem.new]) do |f|
			= f.text_field :description, :placeholder => "Create a new Task or Bug for Story #{story.display_number}"
			
